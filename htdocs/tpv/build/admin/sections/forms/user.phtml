<?php namespace app\controllers\components?><component class="editUser">
    <form controller="user" action="save" validation="app.users.validation(callback)" callback="app.users.save(data)">
        <fieldset>

            <legend></legend>
            <?php
            $name       = new InputText(['label' => 'Nombre', 'tabindex' => 1, 'name' => 'nombre', 'required' => true]);
            $level  = new Select([
                'label' => 'Tipo usuario', 'tabindex' => 8, 'name' => 'nivel', 'class' => 'valid',
                'options' => [0 => 'Cliente', 1 => 'Usuario', 2 => 'Administrador'], 'selected' => '0', 'required' => true,
            ]);
            ?>
            <div class="collapse">
                <input type="checkbox" id="editUser_main" aria-hidden="true">
                <label for="editUser_main" aria-hidden="true" class="collapse">
                    Datos usuario
                </label>
                <div>
                    <?php
                    $id         = new InputRead(['label' => 'Id usuario', 'name' => 'id']);
                    $email      = new InputText(['label' => 'Email', 'tabindex' => 2, 'name' => 'email']);
                    $phone      = new InputText(['label' => 'Teléfono', 'tabindex' => 3, 'name' => 'tel']);
                    $dni        = new InputText(['label' => 'DNI', 'tabindex' => 4, 'name' => 'dni', 'pattern' => "(([X-Z]{1})([-]?)(\d{7})([-]?)([A-Z]{1}))|((\d{8})([-]?)([A-Z]{1}))", 'title' => "Introduzca el dni"],  false);
                    $code       = new InputText(['label' => 'Codigo', 'tabindex' => 5, 'name' => 'codigo']);
                    $fnaci      = new InputText([
                        'label' => 'Fecha nacimiento dd/mm/yyyy', 'tabindex' => 6, 'name' => 'fecha_nacimiento',
                        'pattern' => '(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}'
                    ]);
                    $obs        = new InputText(['label' => 'Observaciones', 'tabindex' => 7, 'name' => 'obs']);
                    ?>
                </div>
                <input type="checkbox" id="editUser_second" aria-hidden="true">
                <label for="editUser_second" aria-hidden="true" class="collapse">
                    Datos cuenta
                </label>
                <div>
                    <?php
                    $status     = new Checkbox(['label' => 'Bloquear cuenta', 'tabindex' => 9, 'name' => 'estado', 'default' => '1', 'value' => '2']);
                    $promos     = new Checkbox(['label' => 'Activar promociones', 'tabindex' => 10, 'name' => 'promos', 'value' => '1']);
                    $mails      = new Checkbox(['label' => 'Activar comunicación email', 'tabindex' => 11, 'name' => 'emails', 'value' => '1']);
                    ?>
                </div>
            </div>
        </fieldset>
        <?php
        $hidden     = new InputHidden(['name' => 'noAuth', 'value' => '1']);
        $btnSave    = new ButtonSuccess(['caption' => 'Guardar', 'tabindex' => 11]);
        $btnDel     = new ButtonCancel(['caption' => 'Eliminar', 'tabindex' => 12, 'class' => 'fnDelete']);
        ?>

    </form>
</component>
<style lang="less">.editUser form{min-width:auto;padding:0;border:none}.editUser form m-input{display:block}.editUser .collapse>:checked+label+div{max-height:inherit}</style>